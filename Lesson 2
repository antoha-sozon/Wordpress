Доброго времени суток друзья. С вами Web panda и этой второе видео посвященное Wordpress.
Установку и первичную настройку движка мы провели в первом видео. Если не видели - то ссылка в описании.
Сегодня, как я и обещал, мы посмотрим на дизайн поподробнее, установим и научимся пользоваться плагином Advanced Custom Fields, посмотрим как вынести основную и 
повторяющуюся информацию сайта в админку и использовать ее в шаблоне.

Easiest reset CSS 2020: https://codepen.io/antoha-sozon/pen/qBEyWje
Design link: https://www.figma.com/file/bOEQYK6lm9e6TCbyomo94P/%D0%90rt-Marks
ACF Documentation: https://www.advancedcustomfields.com/resources/

* ACF Options Page: https://www.advancedcustomfields.com/resources/options-page/
* ACF Options Text: https://www.advancedcustomfields.com/resources/text/

Code for new template: <?php /* Template Name: Example Template */ ?>

Function start optimization:
/* Disable checking updates for plugins  */
function disable_check_pugin_update( $value ) {
  	if( isset( $value->response['acfPro/acf.php'] ) ) {        
		unset( $value->response['acfPro/acf.php'] );
    }
    return $value;
 }
add_filter( 'site_transient_update_plugins', 'disable_check_pugin_update' );


/* Remove block-library */
function remove_wp_block_library_css(){
    wp_dequeue_style( 'wp-block-library' );
    wp_dequeue_style( 'wp-block-library-theme' );
    wp_dequeue_style( 'wc-block-style' );
} 
add_action( 'wp_enqueue_scripts', 'remove_wp_block_library_css', 100 );

/* Remove wlwmanifest_link и wp_generator */
remove_action( 'wp_head', 'wlwmanifest_link' );
remove_action( 'wp_head', 'wp_generator' );

/* Hide admin bar in front */
add_filter('show_admin_bar', '__return_false');

/* Remove emojis */
function disable_emojis() {
  remove_action( 'wp_head', 'print_emoji_detection_script', 7 );
  remove_action( 'admin_print_scripts', 'print_emoji_detection_script' );
  remove_action( 'wp_print_styles', 'print_emoji_styles' );
  remove_filter( 'the_content_feed', 'wp_staticize_emoji' );
  remove_action( 'admin_print_styles', 'print_emoji_styles' );
  remove_filter( 'comment_text_rss', 'wp_staticize_emoji' );
  remove_filter( 'wp_mail', 'wp_staticize_emoji_for_email' );
  add_filter( 'tiny_mce_plugins', 'disable_emojis_tinymce' );
}
function disable_emojis_tinymce( $plugins ) {
  if ( is_array( $plugins ) ) {
    return array_diff( $plugins, array( 'wpemoji' ) );
  } else {
    return array();
  }
}
add_action( 'init', 'disable_emojis' );

/* Remove wp-embed-js */
function my_deregister_scripts(){
  wp_deregister_script( 'wp-embed' );
}
add_action( 'wp_footer', 'my_deregister_scripts' );

/* Remove ссылку Edit на странице */
function remove_edit_post_link( $link ) {
    return '';
}
add_filter('edit_post_link', 'remove_edit_post_link');

/* ACF Options page in admin panel */
if( function_exists('acf_add_options_page') ) {	
	acf_add_options_page(array(
		'page_title' 	=> 'General Settings',
		'menu_title'	=> 'General Settings',
		'menu_slug' 	=> 'theme-general-settings',
		'capability'	=> 'edit_posts',
		'icon_url'		=> 'dashicons-admin-generic',
		'redirect'		=> false
	));	
	acf_add_options_sub_page(array(
		'page_title' 	=> 'Other Settings',
		'menu_title'	=> 'Other Settings',
		'parent_slug'	=> 'theme-general-settings',
	));	
}
